{
  "permissions": {
    "allow": [
      "Bash(terraform version:*)",
      "Bash(terraform fmt:*)",
      "Bash(terraform init:*)",
      "Bash(terraform validate:*)",
      "Bash(terraform state show:*)",
      "Bash(terraform plan:*)",
      "Bash(cat:*)",
      "Bash(git fetch:*)",
      "Bash(git checkout:*)",
      "Bash(tree:*)",
      "Bash(python3:*)",
      "Bash(docker save atlas/caddy:latest)",
      "Bash(incus image import:*)",
      "Bash(incus:*)",
      "Bash(make list-images:*)",
      "Bash(make help:*)",
      "Bash(terraform state list:*)",
      "Bash(terraform show:*)",
      "Bash(terraform refresh:*)",
      "Bash(make terraform-plan:*)",
      "Bash(terraform apply:*)",
      "Bash(ssh root@192.168.68.76 \"docker images | grep atlas\")",
      "Bash(docker run:*)",
      "Bash(lsof:*)",
      "Bash(docker rm:*)",
      "Bash(ip addr:*)",
      "Bash(make push-all:*)",
      "Bash(ip route get:*)",
      "Bash(make import-all:*)",
      "Bash(REGISTRY=localhost:5001 make push-all:*)",
      "Bash(docker port:*)",
      "Bash(git remote:*)",
      "Bash(gh auth:*)",
      "Bash(gh repo view:*)",
      "Bash(gh issue create --title \"CRITICAL: Remove hardcoded default admin password from Grafana configuration\" --body \"$(cat <<''EOF''\n## Security Severity: CRITICAL\n\n### Location\n- File: `terraform/main.tf:51`\n\n### Issue\nDefault password \"changeme\" is hardcoded and publicly accessible in version control:\n\n```hcl\nenvironment_variables = {\n  GF_SECURITY_ADMIN_USER     = \"admin\"\n  GF_SECURITY_ADMIN_PASSWORD = \"changeme\"  # CRITICAL\n}\n```\n\n### Impact\nAnyone can access Grafana with admin/changeme credentials, potentially exposing all monitoring data and configuration.\n\n### Recommendations\n1. Move credentials to `terraform.tfvars` (gitignored)\n2. Use Terraform sensitive variables\n3. Consider using random password generation:\n   ```hcl\n   resource \"random_password\" \"grafana_admin\" {\n     length  = 16\n     special = true\n   }\n   ```\n\n### Action Items\n- [ ] Remove hardcoded password from `main.tf`\n- [ ] Add password variable to `variables.tf` with `sensitive = true`\n- [ ] Update `terraform.tfvars.example` with placeholder\n- [ ] Document secure password management in README\n- [ ] Rotate existing Grafana admin password if deployed\n\n### Priority\n**CRITICAL** - Must fix before any production deployment\nEOF\n)\" --label \"security,critical,secrets\")",
      "Bash(gh issue create --title \"CRITICAL: Remove hardcoded default admin password from Grafana configuration\" --body \"$(cat <<''EOF''\n## Security Severity: CRITICAL\n\n### Location\n- File: `terraform/main.tf:51`\n\n### Issue\nDefault password \"changeme\" is hardcoded and publicly accessible in version control:\n\n```hcl\nenvironment_variables = {\n  GF_SECURITY_ADMIN_USER     = \"admin\"\n  GF_SECURITY_ADMIN_PASSWORD = \"changeme\"\n}\n```\n\n### Impact\nAnyone can access Grafana with admin/changeme credentials, potentially exposing all monitoring data and configuration.\n\n### Recommendations\n1. Move credentials to `terraform.tfvars` (gitignored)\n2. Use Terraform sensitive variables\n3. Consider using random password generation:\n   ```hcl\n   resource \"random_password\" \"grafana_admin\" {\n     length  = 16\n     special = true\n   }\n   ```\n\n### Action Items\n- [ ] Remove hardcoded password from `main.tf`\n- [ ] Add password variable to `variables.tf` with `sensitive = true`\n- [ ] Update `terraform.tfvars.example` with placeholder\n- [ ] Document secure password management in README\n- [ ] Rotate existing Grafana admin password if deployed\n\n### Priority\n**CRITICAL** - Must fix before any production deployment\nEOF\n)\")",
      "Bash(gh issue create:*)",
      "Bash(gh pr close:*)"
    ],
    "deny": [],
    "ask": []
  }
}
